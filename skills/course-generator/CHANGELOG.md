# 变更日志

## [1.3.1] - 2026-02-10

### 修复

- **移除内容来源归属表述**：修复生成课程内容时频繁出现"主讲人强调"、"主讲人指出"、"主讲人提到"等表述的问题
  - 更新核心原则：明确要求去除发言人标记，将内容直接呈现而非强调说话者
  - 在所有提示词模板中添加"客观陈述"要求
  - 将转录内容转换为客观的知识陈述形式，而非会议记录形式

### 改进

- **强化自然表达要求**：
  - 禁止使用"主讲人强调"、"主讲人指出"、"主讲人提到"、"主讲人认为"、"发言人表示"等表述
  - 直接陈述内容本身，不强调内容来源归属
  - 去除发言人标记，将内容整合为连贯的叙述

### 技术优化

- 更新 `skill.md` (2处)：核心原则中的"智能处理"和质量标准中的"自然表达"
- 更新 `references/chapter_prompt.md`：完全重写"自然表达"条款，增加4条具体子要求
- 更新 `references/outline_prompt.md`：在"内容优化"部分添加去除发言人标记的要求
- 更新 `references/overview_prompt.md`：新增第4条核心要求"客观陈述"

---

## [1.3.0] - 2026-02-07

### 改进

- **可选模块架构**：将固定的5部分章节结构改为可选模块库
  - 提供 11 个可选模块（引言与概述、核心概念与原理、理论框架、历史背景、实践案例、应用场景、最佳实践、对比分析、未来展望、本章小结、延伸阅读）
  - AI 根据内容类型和特征智能选择合适的模块组合
  - 提供默认推荐组合（理论类、实践类、案例类、综合类）
  - 每章至少 2 个模块，遵循逻辑关系

### 技术优化

- 更新 `references/chapter_prompt.md` - 从固定结构改为可选模块架构
- 更新 SKILL.md - 反映新的可选模块设计
- 提升技能对不同类型内容的适应性

### 文档更新

- 更新 DECISIONS.md - 添加可选模块架构决策记录
- 更新 TASKS.md - 添加 v1.3.0 任务记录

---

## [1.2.0] - 2026-02-07

### 新增功能

- **智能内容识别**：自动检测发言人、时间戳、配图等特征，智能选择处理方式
- **总览文档输出**：新增 `00_课程名称-总览.md`，包含课程概述、学习目标、课程结构、学习路径建议
- **配图处理**：自动识别配图链接并合理安排到相关主题章节
- **内容优化**：清洗冗余信息，转换口语为书面语

### 改进

- **强化叙述性写作**：完全避免要点列表，使用段落形式，保持逻辑连贯
- **案例融合原则**：案例和展望内容智能融入相关主题章节，不单独成章
- **中文标题序号**：使用"一二三"标题序号，更符合中文阅读习惯
- **专题文档结构**：5部分结构（引言与概述、核心概念与原理、实践案例分析、应用场景与最佳实践、本章小结）
- **输出位置优化**：输出目录改在输入文件所在位置

### 文档更新

- 新增 `references/overview_prompt.md` - 总览文档生成提示词
- 更新 `references/outline_prompt.md` - 添加内容优化、案例融合原则
- 更新 `references/chapter_prompt.md` - 采用5部分结构，强化叙述性写作
- 更新 SKILL.md - 反映新的工作流程和功能
- 更新 DECISIONS.md - 添加 v4.3 升级决策记录

### 技术变更

- 版本基于 Command v4.3
- 工作流程从 5 步扩展到 7 步（增加智能识别和总览生成）
- 文件命名从 `XX_序号_标题.md` 改为 `00_总览.md` + `0X_序号_标题.md`

---

## [1.1.0] - 2026-02-07

### 改进

- **合并工作流程步骤**：将"整体分析"和"生成课程大纲"合并为一步
  - 减少不必要的中间输出（分析报告）
  - 减少 AI 调用次数，提升响应速度
  - 保持思维连贯性，避免上下文切换
  - 更符合人脑处理信息的自然方式

### 技术优化

- 删除 `references/analysis_prompt.md`，功能合并到 `outline_prompt.md`
- 简化工作流程：从 6 步减少到 5 步
- 优化提示词模板，直接输出课程大纲

### 文档更新

- 更新 SKILL.md，反映新的工作流程
- 更新 DECISIONS.md，添加解耦决策记录

---

## [1.0.0] - 2026-02-07

### 新增

- **初始版本发布**：从 extract-course.md Command 转换为标准 Skill 格式
- **课程生成功能**：从多个文献内容中系统化提取并生成结构化课程
  - 支持 1-100+ 个文献文件的处理
  - 自动进行整体主题识别和内容分类
  - 基于原文生成系统化课程大纲
  - 逐章节生成详细的段落式内容
- **核心原则**：
  - 忠实原文：保留文献中的核心观点、具体例子、重要表述，不添加文档外信息
  - 段落式写作：避免要点罗列，包含完整的论证和阐述
  - 详尽完整：每个章节包含核心观点、案例分析、重要表述、数据支撑、背景信息

### v1.0.0 工作流程

1. **读取文献文件**：使用 Glob 工具一次性读取指定目录下的所有文献文件
2. **整体分析内容**：调用 AI 模型进行整体主题识别和内容分类
3. **生成课程大纲**：基于分析结果生成完整课程大纲
4. **逐章节生成内容**：为每个章节生成详细的段落式内容
5. **创建输出目录**：以 AI 生成的课程名称创建文件夹
6. **保存章节文件**：为每个章节创建独立文件

### 提示词模板（v1.0.0）

- **references/analysis_prompt.md**：整体分析提示词
- **references/outline_prompt.md**：课程大纲生成提示词
- **references/chapter_prompt.md**：章节内容撰写提示词

### 文档完善

- 添加 MIT License（LICENSE.txt）
- 创建 SKILL.md 主文件，包含完整工作流程说明
- 创建 CHANGELOG.md 版本变更记录
- 创建 DECISIONS.md 决策记录
- 创建 TASKS.md 任务管理

### 技术优化

- 使用 Progressive Disclosure 设计原则，将详细提示词移至 references/ 目录
- 保持 SKILL.md 简洁，便于快速理解和执行
- 模块化提示词设计，便于后续迭代优化

### 待办事项

- 收集用户使用反馈，优化提示词模板
- 考虑添加更多输出格式选项（如 PDF、Word）
- 考虑添加课程封面生成功能

---

## 原始版本记录（Command 时期）

### v4.3 (2025-12-15)
- 体验优化：输出目录改在输入文件所在位置，添加标题序号（一二三、123），进一步优化叙述性写作

### v4.2 (2025-12-15)
- 内容优化：强化叙述性写作，生成可直接用于书籍出版的章节内容，避免要点式罗列

### v4.1 (2025-12-15)
- 流程简化：统一处理逻辑，自动识别内容类型，无需区分标准文献和转录内容

### v4.0 (2025-12-15)
- 优化升级：增强内容处理能力，智能识别发言人、时间戳、配图等特征，默认生成总览和专题文档

### v3.2 (2025-11-21)
- 优化表达方式：移除"原文中"等生硬表述，使内容表达更加自然流畅

### v3.1 (2025-11-14)
- 通用化优化：支持1-100+个文献，生成系统化课程章节

### v3.0 (2025-11-14)
- 重大简化：文件从500行缩短至195行，保留核心要点和流程

### v2.3 (2025-11-14)
- 优化输出目录命名：使用AI生成的课程名称作为文件夹名

### v2.2 (2025-11-14)
- 移除所有导航文档，仅保留核心内容章节

### v2.1 (2025-11-14)
- 优化读取方式：一次性读取所有文件，保持完整上下文

### v2.0 (2025-11-14)
- 严格要求忠实于原文，改为信息整理导向

### v1.0 (2025-11-14)
- 初始版本
